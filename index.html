<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Binary Cocoa How to Play Videos</title>

    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <!-- Fonts -->

    <!-- Styles -->
    <script src="scripts\tailwind.js"></script>

    <style>
      video::-webkit-media-controls-fullscreen-button {
        display: none;
      }

      .d-none {
        display: none;
      }

      #buttons {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      @keyframes anti-burn-in-y {
        0% {
          transform: translate(-50%, calc(-50% - 150px));
        }
        50% {
          transform: translate(-50%, calc(-50% + 50px));
        }
        100% {
          transform: translate(-50%, calc(-50% - 150px));
        }
      }

      @keyframes anti-burn-in-xy {
        0% {
          transform: translate(10px, 0px);
        }
        10% {
          transform: translate(0px, 10px);
        }
        20% {
          transform: translate(-10px, 0px);
        }
        30% {
          transform: translate(0px, -10px);
        }
        40% {
          transform: translate(10px, 0px);
        }
        50% {
          transform: translate(10px, 10px);
        }
        60% {
          transform: translate(-10px, 10px);
        }
        70% {
          transform: translate(-10px, -10px);
        }
        80% {
          transform: translate(10px, -10px);
        }
        90% {
          transform: translate(0px, 0px);
        }
        100% {
          transform: translate(10px, 0px);
        }
      }

      #buttons {
        animation-name: anti-burn-in-y;
        animation-duration: 900s;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
        overflow: hidden;
      }

      #button-container,
      h1 {
        position: relative;
        animation-name: anti-burn-in-xy;
        animation-duration: 100s;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
      }

      #button-background {
        position: absolute;
        top: 20px;
        left: -20px;
        right: -20px;
        bottom: 20px;
        filter: blur(10px);
        z-index: -1;
      }
    </style>

    <!-- Scripts -->
    <script defer src="scripts/alpine.js"></script>

    <script>
      function addVideoListeners() {
        console.log("adding video listeners");
        const videoPlayer = document.getElementById("video");
        const buttons = document.getElementById("buttons");
        videoPlayer.addEventListener("playing", function () {
          console.log("playing");
          buttons.classList.add("d-none");
        });
        videoPlayer.addEventListener("pause", function () {
          console.log("paused");
          buttons.classList.remove("d-none");
        });
      }

      function getVideo(url) {
        let html =
          '<video id="video" width="1920" height="1080" src="videos/' +
          url +
          '" controls autoplay crossorigin="anonymous" class="w-full"></video>';
        console.log(html);
        return html;
      }

      /**
       * Undoes whatever AlpineJS does when user presses Esc.
       */
      function onEscape() {
        const buttons = document.getElementById("buttons");
        setTimeout(() => {
          buttons.style.display = "";
        }, 10);
      }
    </script>
  </head>

  <body
    class="min-h-screen bg-black max-h-full flex"
    x-data="{ isNavOpen: true, videoPlayer: '' }"
    x-on:keydown.escape="isNavOpen=false"
  >
    <!-- buttons -->
    <div
      id="buttons"
      class="w-full absolute py-12 z-50 p-12"
      x-show="isNavOpen"
      @keydown.escape.window="onEscape()"
    >
      <div id="button-background" class="bg-[#000a] backdrop-blur-xl"></div>
      <h1 class="text-2xl font-bold text-center text-white mt-3 mb-1">
        How to Play Videos
      </h1>
      <div id="button-container" class="text-center mb-4">
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Jaycatwalk-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/jaycatwalk.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Jaycatwalk
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Trolls_Eat_Moles-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/trolls-eat-moles.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Trolls Eat Moles
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Wet_Blanket-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/wet-blanket.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Wet Blanket
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Frog_Chess-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/frog-chess.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Frog Chess
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Slamorama-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/slamorama.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Slamorama
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Wrestling_Cubes-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/wrestling-cubes.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Wrestling Cubes
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Mondrian_Color_inMotion-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/mondrian.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Mondrian
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Straight4-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/straight4.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Straight4
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Bullrings-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/bullrings.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Bullrings
        </button>
        <button
          class="px-4 py-2 m-1 font-bold rounded-2xl hover:cursor-pointer transform transition-all duration-100 ease-in-out hover:scale-110 text-white"
          @click='videoPlayer = getVideo("How_to_Play_Roo-1080p-30fps-crf30.mp4"); $nextTick(() => addVideoListeners());'
        >
          <img
            src="images/roo.webp"
            alt=""
            style="width: 150px; height: 150px"
          />
          Roo
        </button>
      </div>
    </div>

    <!-- Video Player -->
    <div
      x-html="videoPlayer"
      class="bg-black aspect-video max-w-full max-h-[100vh] mx-auto flex content-center justify-center w-full"
    ></div>
  </body>
</html>
